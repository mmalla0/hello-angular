<div class="filters">
  <input type="text" placeholder="Filter by name" [(ngModel)]="filterName" (input)="loadStockpileItems()">
  <input type="text" placeholder="Filter by category" [(ngModel)]="filterCategory" (input)="loadStockpileItems()">
  <label for="filterDate">Filter by best before date:</label>
  <input id="filterDate" type="date" [(ngModel)]="filterDate" (input)="loadStockpileItems()">
  <button (click)="clearFilters()">Clear Filters</button>
</div>
<div class="stockpile-list">
  <table class="stockpile-table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Date</th>
        <th>Count</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let entry of stockpileItemEntries">
        <tr *ngFor="let bestBeforeDate of entry.bestBeforeDates">
          <td>{{ entry.product.name }}</td>
          <td>{{ bestBeforeDate.date | date }}</td>
          <!--td>{{ bestBeforeDate.count }} Products</td-->
          <td>{{ entry.product.quantity }} Products</td>
          <td>
            <button (click)="deleteStockpileItem(entry.product)" class="deleteItem">Delete Consumed Item</button>
          </td>
        </tr>
      </ng-container>
    </tbody>
  </table>
</div>

